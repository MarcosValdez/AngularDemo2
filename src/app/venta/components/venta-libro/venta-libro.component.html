<div class="main mt-5">
  <div class="container">
    <div class="card">
      <div class="card-body">
        <div class="row">
          <div class="col-9">
            <input
              type="text"
              [(ngModel)]="filterlibro"
              placeholder="Ingrese nombre de libro"
              class="form-control"
            />
          </div>
          <div class="col-1">
            <button
              type="button"
              class="btn btn-primary"
              data-bs-toggle="modal"
              data-bs-target="#exampleModal"
              (click)="openModal()"
            >
              Nuevo
            </button>
          </div>
          <div class="col-2">
            <select name="" class="form-control" id="" [(ngModel)]="numRows">
              <option value="5">5</option>
              <option value="10">10</option>
              <option value="15">15</option>
            </select>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="container mt-5">
    <div class="table-responsive">
      <table class="table table-hover mx-auto">
        <thead class="thead-dark">
          <tr>
            <th>N°</th>
            <th>TÍTULO</th>
            <th>AUTOR</th>
            <th>CATEGORIA</th>
            <th>PRECIO</th>
            <th>STOCK</th>
            <th></th>
          </tr>
        </thead>

        <tbody>
          <tr
            *ngFor="
              let l of libros
                | filter: { nombre: filterlibro }
                | paginate: { itemsPerPage: numRows, currentPage: pageActual }
            "
          >
            <td>{{ l?.libroId }}</td>
            <td>{{ l?.nombre }}</td>
            <td>{{ l?.autor?.nombre }}</td>
            <td>{{ l?.categoria?.nombre }}</td>
            <td class="text-center">$ {{ l?.precio }}</td>
            <td class="text-center">{{ l?.cantidad }}</td>
            <td class="total">
              <button
                class="btn btn-success"
                type="button"
                id="flexCheckDefault"
                (click)="vender(l?.libroId)"
              >
                Vender
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="d-flex flex-row-reverse">
      <ng-container>
        <pagination-controls
          class="my-pagination"
          maxSize="5"
          [responsive]="responsive"
          [previousLabel]="previousLabel"
          [nextLabel]="nextLabel"
          (pageChange)="pageActual = $event"
        ></pagination-controls>
      </ng-container>
    </div>
  </div>
</div>
